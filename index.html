<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StudyBuddy</title> 
  <link rel="icon" type="image/png" href="logo.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="app-header">
    <div class="container header-inner">
      <div class="brand">
        <div class="logo" aria-hidden="true">SB</div>
        <div class="brand-text">
          <div class="brand-name">StudyBuddy</div>
          <div class="brand-sub">Student Planner + Habit Tracker + Resources</div>
        </div>
      </div>

      <button class="icon-btn menu-btn" id="menuBtn" aria-label="Open menu" aria-controls="primaryNav" aria-expanded="false">
        <i class="bi bi-list"></i>
      </button>

      <nav class="nav" id="primaryNav" aria-label="Primary">
        <a class="nav-link" href="#dashboard" data-route="dashboard"><i class="bi bi-speedometer2"></i><span>Dashboard</span></a>
        <a class="nav-link" href="#tasks" data-route="tasks"><i class="bi bi-check2-square"></i><span>Tasks</span></a>
        <a class="nav-link" href="#habits" data-route="habits"><i class="bi bi-calendar2-week"></i><span>Habits</span></a>
        <a class="nav-link" href="#resources" data-route="resources"><i class="bi bi-book"></i><span>Resources</span></a>
        <a class="nav-link" href="#settings" data-route="settings"><i class="bi bi-gear"></i><span>Settings</span></a>
      </nav>
    </div>
  </header>

  <main id="main" class="container app-main">
    <section id="dashboard" class="view" aria-labelledby="dashTitle">
      <div class="view-head">
        <h1 id="dashTitle">Dashboard</h1>
        <div class="view-actions">
          <button class="btn btn-primary" id="dashQuickAddBtn"><i class="bi bi-plus-lg"></i> Quick Add Task</button>
        </div>
      </div>

      <div class="grid cards-3" id="dashCards"></div>

      <div class="grid layout-2">
        <article class="card">
          <div class="card-head">
            <h2 class="card-title">Today / Next 2 Days</h2>
            <span class="pill" id="todayPill">0</span>
          </div>
          <div class="card-body">
            <div class="list" id="todayList"></div>
            <div class="empty" id="todayEmpty">No tasks due soon.</div>
          </div>
        </article>

        <article class="card">
          <div class="card-head">
            <h2 class="card-title">Task Progress</h2>
            <span class="pill" id="progressPill">0%</span>
          </div>
          <div class="card-body">
            <div class="progress">
              <div class="progress-bar" id="progressBar" style="width:0%"></div>
            </div>
            <div class="muted" id="progressText">0 / 0 completed</div>
          </div>
        </article>
      </div>

      <dialog class="modal" id="quickAddModal">
        <form method="dialog" class="modal-card" id="quickAddForm">
          <div class="modal-head">
            <h3>Quick Add Task</h3>
            <button class="icon-btn" type="button" id="quickAddClose" aria-label="Close">
              <i class="bi bi-x-lg"></i>
            </button>
          </div>

          <div class="modal-body">
            <div class="form-row">
              <label class="label" for="qaTitle">Title *</label>
              <input class="input" id="qaTitle" name="title" type="text" required maxlength="80" />
              <div class="error" id="qaTitleErr"></div>
            </div>

            <div class="grid form-grid">
              <div class="form-row">
                <label class="label" for="qaDue">Due Date *</label>
                <input class="input" id="qaDue" name="dueDate" type="date" required />
                <div class="error" id="qaDueErr"></div>
              </div>

              <div class="form-row">
                <label class="label" for="qaPriority">Priority</label>
                <select class="select" id="qaPriority" name="priority">
                  <option value="Low">Low</option>
                  <option value="Medium" selected>Medium</option>
                  <option value="High">High</option>
                </select>
              </div>

              <div class="form-row">
                <label class="label" for="qaCategory">Category</label>
                <select class="select" id="qaCategory" name="category">
                  <option value="Study" selected>Study</option>
                  <option value="Personal">Personal</option>
                  <option value="Work">Work</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <label class="label" for="qaDesc">Description</label>
              <textarea class="textarea" id="qaDesc" name="description" rows="3" maxlength="200"></textarea>
            </div>
          </div>

          <div class="modal-foot">
            <button class="btn" type="button" id="quickAddCancel">Cancel</button>
            <button class="btn btn-primary" type="submit">Add</button>
          </div>
        </form>
      </dialog>
    </section>

    <section id="tasks" class="view" aria-labelledby="tasksTitle" hidden>
      <div class="view-head">
        <h1 id="tasksTitle">Tasks</h1>
        <div class="view-actions">
          <button class="btn btn-primary" id="openTaskFormBtn"><i class="bi bi-plus-lg"></i> New Task</button>
        </div>
      </div>

      <article class="card">
        <div class="card-head">
          <h2 class="card-title">Filters & Sort</h2>
        </div>
        <div class="card-body">
          <div class="grid filters-grid">
            <div class="form-row">
              <label class="label" for="statusFilter">Status</label>
              <select class="select" id="statusFilter">
                <option value="all" selected>All</option>
                <option value="active">Active</option>
                <option value="completed">Completed</option>
              </select>
            </div>

            <div class="form-row">
              <label class="label" for="categoryFilter">Category</label>
              <select class="select" id="categoryFilter">
                <option value="all" selected>All</option>
                <option value="Study">Study</option>
                <option value="Personal">Personal</option>
                <option value="Work">Work</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="form-row">
              <label class="label" for="sortBy">Sort</label>
              <select class="select" id="sortBy">
                <option value="dueDateAsc" selected>Due Date (Soonest)</option>
                <option value="dueDateDesc">Due Date (Latest)</option>
                <option value="priorityDesc">Priority (High → Low)</option>
                <option value="priorityAsc">Priority (Low → High)</option>
              </select>
            </div>

            <div class="form-row">
              <label class="label" for="searchTasks">Search</label>
              <input class="input" id="searchTasks" type="search" placeholder="Search title/description..." />
            </div>
          </div>
        </div>
      </article>

      <article class="card">
        <div class="card-head">
          <h2 class="card-title">Task List</h2>
          <span class="pill" id="tasksCountPill">0</span>
        </div>
        <div class="card-body">
          <div class="table-wrap">
            <table class="table" aria-label="Tasks table">
              <thead>
                <tr>
                  <th>Title</th>
                  <th>Due</th>
                  <th>Priority</th>
                  <th>Category</th>
                  <th>Status</th>
                  <th class="right">Actions</th>
                </tr>
              </thead>
              <tbody id="tasksTbody"></tbody>
            </table>
          </div>
          <div class="empty" id="tasksEmpty">No tasks found.</div>
        </div>
      </article>

      <dialog class="modal" id="taskModal">
        <form method="dialog" class="modal-card" id="taskForm">
          <div class="modal-head">
            <h3 id="taskModalTitle">New Task</h3>
            <button class="icon-btn" type="button" id="taskClose" aria-label="Close">
              <i class="bi bi-x-lg"></i>
            </button>
          </div>

          <div class="modal-body">
            <input type="hidden" id="taskId" />

            <div class="form-row">
              <label class="label" for="taskTitle">Title *</label>
              <input class="input" id="taskTitle" type="text" required maxlength="80" />
              <div class="error" id="taskTitleErr"></div>
            </div>

            <div class="form-row">
              <label class="label" for="taskDesc">Description</label>
              <textarea class="textarea" id="taskDesc" rows="3" maxlength="200"></textarea>
            </div>

            <div class="grid form-grid">
              <div class="form-row">
                <label class="label" for="taskDue">Due Date *</label>
                <input class="input" id="taskDue" type="date" required />
                <div class="error" id="taskDueErr"></div>
              </div>

              <div class="form-row">
                <label class="label" for="taskPriority">Priority</label>
                <select class="select" id="taskPriority">
                  <option value="Low">Low</option>
                  <option value="Medium" selected>Medium</option>
                  <option value="High">High</option>
                </select>
              </div>

              <div class="form-row">
                <label class="label" for="taskCategory">Category</label>
                <select class="select" id="taskCategory">
                  <option value="Study" selected>Study</option>
                  <option value="Personal">Personal</option>
                  <option value="Work">Work</option>
                  <option value="Other">Other</option>
                </select>
              </div>

              <div class="form-row">
                <label class="label" for="taskCompleted">Completed</label>
                <select class="select" id="taskCompleted">
                  <option value="false" selected>No</option>
                  <option value="true">Yes</option>
                </select>
              </div>
            </div>

            <div class="note" id="taskFormNote"></div>
          </div>

          <div class="modal-foot">
            <button class="btn" type="button" id="taskCancel">Cancel</button>
            <button class="btn btn-primary" type="submit" id="taskSaveBtn">Save</button>
          </div>
        </form>
      </dialog>
    </section>

    <section id="habits" class="view" aria-labelledby="habitsTitle" hidden>
      <div class="view-head">
        <h1 id="habitsTitle">Habits</h1>
        <div class="view-actions">
          <button class="btn btn-primary" id="openHabitModalBtn"><i class="bi bi-plus-lg"></i> New Habit</button>
        </div>
      </div>

      <div class="grid layout-2">
        <article class="card">
          <div class="card-head">
            <h2 class="card-title">Weekly Tracker (Sat–Fri)</h2>
            <span class="pill" id="weekPill"></span>
          </div>
          <div class="card-body">
            <div class="list" id="habitsList"></div>
            <div class="empty" id="habitsEmpty">No habits yet. Add one to start tracking.</div>
          </div>
        </article>

        <article class="card">
          <div class="card-head">
            <h2 class="card-title">Weekly Summary</h2>
          </div>
          <div class="card-body">
            <div class="summary-grid" id="habitsSummary"></div>
            <div class="muted" id="habitsSummaryHint">Tip: hitting your weekly goal increases your streak.</div>
          </div>
        </article>
      </div>

      <dialog class="modal" id="habitModal">
        <form method="dialog" class="modal-card" id="habitForm">
          <div class="modal-head">
            <h3 id="habitModalTitle">New Habit</h3>
            <button class="icon-btn" type="button" id="habitClose" aria-label="Close">
              <i class="bi bi-x-lg"></i>
            </button>
          </div>

          <div class="modal-body">
            <input type="hidden" id="habitId" />

            <div class="form-row">
              <label class="label" for="habitName">Habit Name *</label>
              <input class="input" id="habitName" type="text" required maxlength="50" />
              <div class="error" id="habitNameErr"></div>
            </div>

            <div class="form-row">
              <label class="label" for="habitGoal">Weekly Goal (1–7) *</label>
              <input class="input" id="habitGoal" type="number" min="1" max="7" required />
              <div class="error" id="habitGoalErr"></div>
            </div>

            <div class="note">You can toggle each day for the current week. Progress is saved automatically.</div>
          </div>

          <div class="modal-foot">
            <button class="btn" type="button" id="habitCancel">Cancel</button>
            <button class="btn btn-primary" type="submit" id="habitSaveBtn">Save</button>
          </div>
        </form>
      </dialog>
    </section>

    <section id="resources" class="view" aria-labelledby="resourcesTitle" hidden>
      <div class="view-head">
        <h1 id="resourcesTitle">Resources</h1>
        <div class="view-actions">
          <button class="btn" id="reloadResourcesBtn"><i class="bi bi-arrow-clockwise"></i> Reload</button>
        </div>
      </div>

      <article class="card">
        <div class="card-head">
          <h2 class="card-title">Search & Favorites</h2>
        </div>
        <div class="card-body">
          <div class="grid filters-grid">
            <div class="form-row">
              <label class="label" for="resourceSearch">Search</label>
              <input class="input" id="resourceSearch" type="search" placeholder="Search resources..." />
            </div>
            <div class="form-row">
              <label class="label" for="resourceCategory">Category</label>
              <select class="select" id="resourceCategory">
                <option value="all" selected>All</option>
              </select>
            </div>
            <div class="form-row">
              <label class="label" for="resourceFavOnly">Favorites</label>
              <select class="select" id="resourceFavOnly">
                <option value="all" selected>All</option>
                <option value="favorites">Only Favorites</option>
              </select>
            </div>
            <div class="form-row">
              <label class="label">&nbsp;</label>
              <button class="btn" id="clearResourceFiltersBtn" type="button"><i class="bi bi-x-circle"></i> Clear</button>
            </div>
          </div>
        </div>
      </article>

      <div class="grid cards-3" id="resourcesGrid"></div>

      <div class="status" id="resourcesStatus" hidden>
        <div class="spinner" aria-hidden="true"></div>
        <div>
          <div class="status-title" id="resourcesStatusTitle">Loading...</div>
          <div class="muted" id="resourcesStatusMsg">Fetching resources.json</div>
        </div>
      </div>

      <div class="empty" id="resourcesEmpty" hidden>No resources found.</div>
    </section>

    <section id="settings" class="view" aria-labelledby="settingsTitle" hidden>
      <div class="view-head">
        <h1 id="settingsTitle">Settings / About</h1>
      </div>

      <div class="grid layout-2">
        <article class="card">
          <div class="card-head">
            <h2 class="card-title">Theme</h2>
          </div>
          <div class="card-body">
            <div class="toggle-row">
              <div>
                <div class="strong">Light / Dark</div>
                <div class="muted">Theme is saved to your device.</div>
              </div>
              <button class="btn" id="themeToggleBtn" type="button">
                <i class="bi bi-moon-stars"></i> Toggle
              </button>
            </div>

            <div class="divider"></div>

            <div class="danger-zone">
              <div>
                <div class="strong">Reset Data</div>
                <div class="muted">Clear tasks, habits, favorites and settings.</div>
              </div>
              <button class="btn btn-danger" id="resetDataBtn" type="button"><i class="bi bi-trash3"></i> Reset</button>
            </div>
          </div>
        </article>

        <article class="card">
          <div class="card-head">
            <h2 class="card-title">About</h2>
          </div>
          <div class="card-body">
            <div class="about">
              <div class="about-app">
                <div class="about-logo" aria-hidden="true">SB</div>
                <div>
                  <div class="strong">StudyBuddy SPA</div>
                  <div class="muted">Student Planner + Habit Tracker + Resources</div>
                </div>
              </div>

              <div class="divider"></div>

              <div class="about-item">
                <div class="muted">Student</div>
                <div class="strong">HoThayFa</div>
              </div>
              <div class="about-item">
                <div class="muted">Student ID</div>
                <div class="strong">120230430</div>
              </div>

              <div class="divider"></div>

              <ul class="about-list">
                <li>Real SPA navigation (no reload)</li>
                <li>Tasks CRUD + Filters + Sort + Validation</li>
                <li>Weekly Habits tracker (Sat–Fri)</li>
                <li>Resources fetched asynchronously + Favorites</li>
                <li>LocalStorage persistence</li>
                <li>Mobile-first responsive UI</li>
              </ul>
            </div>
          </div>
        </article>
      </div>

      <dialog class="modal" id="confirmModal">
        <form method="dialog" class="modal-card" id="confirmForm">
          <div class="modal-head">
            <h3 id="confirmTitle">Confirm</h3>
            <button class="icon-btn" type="button" id="confirmClose" aria-label="Close">
              <i class="bi bi-x-lg"></i>
            </button>
          </div>
          <div class="modal-body">
            <p class="muted" id="confirmMsg">Are you sure?</p>
          </div>
          <div class="modal-foot">
            <button class="btn" type="button" id="confirmCancel">Cancel</button>
            <button class="btn btn-danger" type="submit" id="confirmOk">Confirm</button>
          </div>
        </form>
      </dialog>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer-inner">
      <div class="muted">© <span id="year"></span> StudyBuddy</div>
      <div class="muted">Vanilla JS • LocalStorage • Fetch</div>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>


